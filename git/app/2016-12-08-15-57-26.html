<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>刘阳phper</title>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="">
	<meta name="description" content="">

	<!-- stylesheet css -->
	<link rel="stylesheet" href="../theme/css/bootstrap.min.css">
	<link rel="stylesheet" href="../theme/css/font-awesome.min.css">
	<link rel="stylesheet" href="../theme/css/templatemo-blue.css">
</head>
<body data-spy="scroll" data-target=".navbar-collapse">

<!-- preloader section -->
<div class="preloader">
	<div class="sk-spinner sk-spinner-wordpress">
       <span class="sk-inner-circle"></span>
     </div>
</div>

<!-- header section -->
<header>
<!-- Fixed navbar -->
    <nav class="nav-skills navbar bg-skills navbar-fixed-top" role="navigation">
     <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">刘阳phper</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
           <ul class="nav navbar-nav bg-skills">

            <li ><a href="http://www.yang95.com" >首页</a></li>

            <li><a  href="list/index.html">最近文章</a></li>

            <li><a href="http://yangakw.cn"  >查看博客</a>

            <li class="dropdown ">

              <a href="#" class="dropdown-toggle" data-toggle="dropdown">展示<span class="caret"></span></a>
              <ul class="dropdown-menu bg-skills" role="menu"> 
                <li><a href="/other/meizi/index.html">meizi</a></li> 
                <li class="divider"></li>
                <li><a href="/other/80s/index.html">80s</a></li> 
              </ul>
            </li>
          </ul>
        
        </div><!--/.nav-collapse -->
      </div>
    </nav><!--/nav--->
	<div class="container">
		<div class="row">
			<div class="col-md-12 col-sm-12">
				<img src="../theme/images/tm-easy-profile.jpg" class="img-responsive img-circle tm-border" alt="templatemo easy profile">
				<hr>
				<h1 class="tm-title bold shadow">刘阳phper</h1>
				<h1 class="white bold shadow">yangakw@qq.com</h1>
			</div>
		</div>
	</div>
</header>

<!-- about and skills section -->
<section class="container">
	<div class="row">
		<div class="col-md-8 col-sm-12">
			<div class="about">
				<h3 class="accent">系统吞吐量（TPS)</h3>
				<small>TPS |TPS |TPS </small>
				<p style="font-size:18px;font-family:微软雅黑;">
				<p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;"><strong style="padding: 0px; margin: 0px;">PS：下面是性能测试的主要概念和计算公式，记录下：</strong></p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;"><strong style="padding: 0px; margin: 0px;">一．系统吞度量要素：</strong></p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">&nbsp;&nbsp;一个系统的吞度量（承压能力）与request对CPU的消耗、外部接口、IO等等紧密关联。</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">单个reqeust&nbsp;对CPU消耗越高，外部系统接口、IO影响速度越慢，系统吞吐能力越低，反之越高。</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">系统吞吐量几个重要参数：QPS（TPS）、并发数、响应时间</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong style="padding: 0px; margin: 0px;">QPS（TPS）：</strong>每秒钟request/事务&nbsp;数量</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong style="padding: 0px; margin: 0px;">并发数：</strong>&nbsp;系统同时处理的request/事务数</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong style="padding: 0px; margin: 0px;">响应时间：&nbsp;</strong>&nbsp;一般取平均响应时间</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">（很多人经常会把并发数和TPS理解混淆）</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">理解了上面三个要素的意义之后，就能推算出它们之间的关系：</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">QPS（TPS）=&nbsp;并发数/平均响应时间</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一个系统吞吐量通常由QPS（TPS）、并发数两个因素决定，每套系统这两个值都有一个相对极限值，在应用场景访问压力下，只要某一项达到系统最高值，系统的吞吐量就上不去了，如果压力继续增大，系统的吞吐量反而会下降，原因是系统超负荷工作，上下文切换、内存等等其它消耗导致系统性能下降。</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">决定系统响应时间要素</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">我们做项目要排计划，可以多人同时并发做多项任务，也可以一个人或者多个人串行工作，始终会有一条关键路径，这条路径就是项目的工期。</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">系统一次调用的响应时间跟项目计划一样，也有一条关键路径，这个关键路径是就是系统影响时间；</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">关键路径是有CPU运算、IO、外部系统响应等等组成。</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;"><strong style="padding: 0px; margin: 0px;">二．系统吞吐量评估：</strong></p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">我们在做系统设计的时候就需要考虑CPU运算、IO、外部系统响应因素造成的影响以及对系统性能的初步预估。</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">而通常境况下，我们面对需求，我们评估出来的出来QPS、并发数之外，还有另外一个维度：日PV。</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">通过观察系统的访问日志发现，在用户量很大的情况下，各个时间周期内的同一时间段的访问流量几乎一样。比如工作日的每天早上。只要能拿到日流量图和QPS我们就可以推算日流量。</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">通常的技术方法：</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;找出系统的最高TPS和日PV，这两个要素有相对比较稳定的关系（除了放假、季节性因素影响之外）</p><p style="padding: 0px; margin-top: 1.2em; margin-bottom: 1.2em; line-height: 1.5em; color: rgb(0, 34, 0); font-family: georgia; font-size: 15px; white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;通过压力测试或者经验预估，得出最高TPS，然后跟进1的关系，计算出系统最高的日吞吐量。B2B中文和淘宝面对的客户群不一样，这两个客户群的网络行为不应用，他们之间的TPS和PV关系比例也不一样。</p><p><br/></p>
				</p>
				
					<!--PC版-->
<div id="SOHUCS" sid="请将此处替换为配置SourceID的语句"></div>
<script charset="utf-8" type="text/javascript" src="http://changyan.sohu.com/upload/changyan.js" ></script>
<script type="text/javascript">
window.changyan.api.config({
appid: 'cyrSeBu12',
conf: 'prod_f811d5fceb1ba81cb014a75f67caf941'
});
</script>

			</div>
		

		</div>
		<div class="col-md-4 col-sm-12">
				<div class="skills">
				<h2 class="white">Skills</h2>
				<strong>PHP MySQL</strong>
				<span class="pull-right">80%</span>
					<div class="progress">
						<div class="progress-bar progress-bar-primary" role="progressbar" 
                        aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%;"></div>
					</div>
				<strong>html/css</strong>
				<span class="pull-right">85%</span>
					<div class="progress">
						<div class="progress-bar progress-bar-primary" role="progressbar" 
                        aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 85%;"></div>
					</div>
				<strong>js</strong>
				<span class="pull-right">75%</span>
					<div class="progress">
						<div class="progress-bar progress-bar-primary" role="progressbar" 
                        aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%;"></div>
					</div>
					
			</div>
		</div>
	</div>
</section>

 
<!-- footer section -->
<footer>
	<div class="container">
		<div class="row">
			<div class="col-md-12 col-sm-12">
				<p>Copyright &copy; 2016.yangakw All rights reserved. </p>
				<ul class="social-icons">
					<li><a href="#" class="fa fa-facebook"></a></li>
                    <li><a href="#" class="fa fa-google-plus"></a></li>
					<li><a href="#" class="fa fa-twitter"></a></li>
					<li><a href="#" class="fa fa-dribbble"></a></li>
					<li><a href="#" class="fa fa-github"></a></li>
					<li><a href="#" class="fa fa-behance"></a></li>
				</ul>
			</div>
		</div>
	</div>
</footer>

<!-- javascript js -->	
<script src="../theme/js/jquery.js"></script>
<script src="../theme/js/bootstrap.min.js"></script>	
<script src="../theme/js/jquery.backstretch.min.js"></script>
<script src="../theme/js/custom.js"></script>

</body>
</html>